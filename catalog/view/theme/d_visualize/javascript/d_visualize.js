!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.Slideout=t()}}(function(){return function t(e,n,o){function i(s,r){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!r&&c)return c(s,!0);if(a)return a(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var p=n[s]={exports:{}};e[s][0].call(p.exports,function(t){var n=e[s][1][t];return i(n||t)},p,p.exports,t,e,n,o)}return n[s].exports}for(var a="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,e,n){"use strict";function o(t,e){for(var n in e)e[n]&&(t[n]=e[n]);return t}function i(t){for(;t.parentNode;){if(null!==t.getAttribute("data-slideout-ignore"))return t;t=t.parentNode}return null}function a(t){t=t||{},this._startOffsetX=0,this._currentOffsetX=0,this._opening=!1,this._moved=!1,this._opened=!1,this._preventOpen=!1,this._touch=void 0===t.touch||t.touch&&!0,this._side=t.side||"left",this.panel=t.panel,this.menu=t.menu,this.panel.classList.contains("slideout-panel")||this.panel.classList.add("slideout-panel"),this.panel.classList.contains("slideout-panel-"+this._side)||this.panel.classList.add("slideout-panel-"+this._side),this.menu.classList.contains("slideout-menu")||this.menu.classList.add("slideout-menu"),this.menu.classList.contains("slideout-menu-"+this._side)||this.menu.classList.add("slideout-menu-"+this._side),this._fx=t.fx||"ease",this._duration=parseInt(t.duration,10)||300,this._tolerance=parseInt(t.tolerance,10)||70,this._padding=this._translateTo=parseInt(t.padding,10)||256,this._orientation="right"===this._side?-1:1,this._translateTo*=this._orientation,this._touch&&this._initTouchEvents()}var s,r=t("decouple"),c=t("emitter"),d=!1,p=window.document,l=p.documentElement,u=window.navigator.msPointerEnabled,h={start:u?"MSPointerDown":"touchstart",move:u?"MSPointerMove":"touchmove",end:u?"MSPointerUp":"touchend"},m=function(){var t=/^(Webkit|Khtml|Moz|ms|O)(?=[A-Z])/,e=p.getElementsByTagName("script")[0].style;for(var n in e)if(t.test(n))return"-"+n.match(t)[0].toLowerCase()+"-";return"WebkitOpacity"in e?"-webkit-":"KhtmlOpacity"in e?"-khtml-":""}();!function(t,e){t.prototype=o(t.prototype||{},e.prototype)}(a,c),a.prototype.open=function(){var t=this;return this.emit("beforeopen"),l.classList.contains("slideout-open")||l.classList.add("slideout-open"),this._setTransition(),this._translateXTo(this._translateTo),this._opened=!0,setTimeout(function(){t.panel.style.transition=t.panel.style["-webkit-transition"]="",t.emit("open")},this._duration+50),this},a.prototype.close=function(){var t=this;return this.isOpen()||this._opening?(this.emit("beforeclose"),this._setTransition(),this._translateXTo(0),this._opened=!1,setTimeout(function(){l.classList.remove("slideout-open"),t.panel.style.transition=t.panel.style["-webkit-transition"]=t.panel.style[m+"transform"]=t.panel.style.transform="",t.emit("close")},this._duration+50),this):this},a.prototype.toggle=function(){return this.isOpen()?this.close():this.open()},a.prototype.isOpen=function(){return this._opened},a.prototype._translateXTo=function(t){return this._currentOffsetX=t,this.panel.style[m+"transform"]=this.panel.style.transform="translateX("+t+"px)",this},a.prototype._setTransition=function(){return this.panel.style[m+"transition"]=this.panel.style.transition=m+"transform "+this._duration+"ms "+this._fx,this},a.prototype._initTouchEvents=function(){var t=this;return this._onScrollFn=r(p,"scroll",function(){t._moved||(clearTimeout(s),d=!0,s=setTimeout(function(){d=!1},250))}),this._preventMove=function(e){t._moved&&e.preventDefault()},p.addEventListener(h.move,this._preventMove),this._resetTouchFn=function(e){void 0!==e.touches&&(t._moved=!1,t._opening=!1,t._startOffsetX=e.touches[0].pageX,t._preventOpen=!t._touch||!t.isOpen()&&0!==t.menu.clientWidth)},this.panel.addEventListener(h.start,this._resetTouchFn),this._onTouchCancelFn=function(){t._moved=!1,t._opening=!1},this.panel.addEventListener("touchcancel",this._onTouchCancelFn),this._onTouchEndFn=function(){t._moved&&(t.emit("translateend"),t._opening&&Math.abs(t._currentOffsetX)>t._tolerance?t.open():t.close()),t._moved=!1},this.panel.addEventListener(h.end,this._onTouchEndFn),this._onTouchMoveFn=function(e){if(!(d||t._preventOpen||void 0===e.touches||i(e.target))){var n=e.touches[0].clientX-t._startOffsetX,o=t._currentOffsetX=n;if(!(Math.abs(o)>t._padding)&&Math.abs(n)>20){t._opening=!0;var a=n*t._orientation;if(t._opened&&a>0||!t._opened&&a<0)return;t._moved||t.emit("translatestart"),a<=0&&(o=n+t._padding*t._orientation,t._opening=!1),t._moved&&l.classList.contains("slideout-open")||l.classList.add("slideout-open"),t.panel.style[m+"transform"]=t.panel.style.transform="translateX("+o+"px)",t.emit("translate",o),t._moved=!0}}},this.panel.addEventListener(h.move,this._onTouchMoveFn),this},a.prototype.enableTouch=function(){return this._touch=!0,this},a.prototype.disableTouch=function(){return this._touch=!1,this},a.prototype.destroy=function(){return this.close(),p.removeEventListener(h.move,this._preventMove),this.panel.removeEventListener(h.start,this._resetTouchFn),this.panel.removeEventListener("touchcancel",this._onTouchCancelFn),this.panel.removeEventListener(h.end,this._onTouchEndFn),this.panel.removeEventListener(h.move,this._onTouchMoveFn),p.removeEventListener("scroll",this._onScrollFn),this.open=this.close=function(){},this},e.exports=a},{decouple:2,emitter:3}],2:[function(t,e,n){"use strict";function o(t,e,n){function o(t){r=t,a()}function a(){c||(i(s),c=!0)}function s(){n.call(t,r),c=!1}var r,c=!1;return t.addEventListener(e,o,!1),o}var i=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();e.exports=o},{}],3:[function(t,e,n){"use strict";var o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};n.__esModule=!0;var i=function(){function t(){o(this,t)}return t.prototype.on=function(t,e){return this._eventCollection=this._eventCollection||{},this._eventCollection[t]=this._eventCollection[t]||[],this._eventCollection[t].push(e),this},t.prototype.once=function(t,e){function n(){o.off(t,n),e.apply(this,arguments)}var o=this;return n.listener=e,this.on(t,n),this},t.prototype.off=function(t,e){var n=void 0;return this._eventCollection&&(n=this._eventCollection[t])?(n.forEach(function(t,o){t!==e&&t.listener!==e||n.splice(o,1)}),0===n.length&&delete this._eventCollection[t],this):this},t.prototype.emit=function(t){for(var e=this,n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];var a=void 0;return this._eventCollection&&(a=this._eventCollection[t])?(a=a.slice(0),a.forEach(function(t){return t.apply(e,o)}),this):this},t}();n.default=i,e.exports=n.default},{}]},{},[1])(1)});var Checkout={setting:{account:"guest",shipping_required:!0,step:"account",$account:$("#collapse-checkout-option"),$payment_address:$("#collapse-payment-address"),$shipping_address:$("#collapse-shipping-address"),$shipping_method:$("#collapse-shipping-method"),$payment_method:$("#collapse-payment-method"),$confirm:$("#collapse-checkout-confirm"),text_checkout_account:"text_checkout_account",text_checkout_option:"text_checkout_option",text_checkout_payment_address:"text_checkout_payment_address",text_checkout_shipping_address:"text_checkout_shipping_address",text_checkout_shipping_method:"text_checkout_shipping_method",text_checkout_payment_method:"text_checkout_payment_method",text_checkout_confirm:"text_checkout_confirm"},init:function(t){console.log("start Checkout"),this.setting=$.extend({},this.setting,t),this.setting.$account_title=this.setting.$account.parent().find(".panel-heading .panel-title"),this.setting.$payment_address_title=this.setting.$payment_address.parent().find(".panel-heading .panel-title"),this.setting.$shipping_address_title=this.setting.$shipping_address.parent().find(".panel-heading .panel-title"),this.setting.$shipping_method_title=this.setting.$shipping_method.parent().find(".panel-heading .panel-title"),this.setting.$payment_method_title=this.setting.$payment_method.parent().find(".panel-heading .panel-title"),this.setting.$confirm_title=this.setting.$confirm.parent().find(".panel-heading .panel-title"),this.setting.$account_body=this.setting.$account.find(".panel-body"),this.setting.$payment_address_body=this.setting.$payment_address.find(".panel-body"),this.setting.$shipping_address_body=this.setting.$shipping_address.find(".panel-body"),this.setting.$shipping_method_body=this.setting.$shipping_method.find(".panel-body"),this.setting.$payment_method_body=this.setting.$payment_method.find(".panel-body"),this.setting.$confirm_body=this.setting.$confirm.find(".panel-body"),this.render()},setAccount:function(){"logged"!=this.setting.account&&(this.setting.account=$("input[name='account']:checked").prop("value")),console.log(this.setting.account)},errorHandler:function(t,e,n){alert(n+"\r\n"+t.statusText+"\r\n"+t.responseText)},changeStep:function(t){this.setting.step=t,"account"==this.setting.step&&$("a[href='#collapse-checkout-option']").trigger("click"),"payment_address"==this.setting.step&&$("a[href='#collapse-payment-address']").trigger("click"),"shipping_address"==this.setting.step&&($("a[href='#collapse-shipping-address']").trigger("click"),this.setting.$shipping_method_title.html(this.setting.text_checkout_shipping_method),this.setting.$payment_method_title.html(this.setting.text_checkout_payment_method),this.setting.$confirm_title.html(this.setting.text_checkout_confirm)),"shipping_method"==this.setting.step&&($("a[href='#collapse-shipping-method']").trigger("click"),this.setting.$payment_method_title.html(this.setting.text_checkout_payment_method),this.setting.$confirm_title.html(this.setting.text_checkout_confirm)),"payment_method"==this.setting.step&&($("a[href='#collapse-payment-method']").trigger("click"),this.setting.$confirm_title.html(this.setting.text_checkout_confirm)),"confirm"==this.setting.step&&$("a[href='#collapse-checkout-confirm']").trigger("click"),console.log(this.setting.step)},changeAccount:function(){this.setAccount();var t=this;t.setting.$payment_address_title.children("*").is("a")?"register"==this.setting.account?t.setting.$payment_address_title.html('<a href="#collapse-payment-address" data-toggle="collapse" data-parent="#accordion" class="accordion-toggle">'+this.setting.text_checkout_account+' <i class="fa fa-caret-down"></i></a>'):t.setting.$payment_address_title.html('<a href="#collapse-payment-address" data-toggle="collapse" data-parent="#accordion" class="accordion-toggle">'+this.setting.text_checkout_payment_address+' <i class="fa fa-caret-down"></i></a>'):"register"==this.setting.account?t.setting.$payment_address_title.html(this.setting.text_checkout_account):t.setting.$payment_address_title.html(this.setting.text_checkout_payment_address)},getLoginView:function(t){var e=this;$.ajax({url:"index.php?route=checkout/login",dataType:"html",success:function(n){e.setting.$account_body.html(n),e.setting.$account_title.html('<a href="#collapse-checkout-option" data-toggle="collapse" data-parent="#accordion" class="accordion-toggle">'+e.setting.text_checkout_option+' <i class="fa fa-caret-down"></i></a>'),"function"==typeof t&&t()},error:function(t,n,o){e.errorHandler(t,n,o)}})},getRegisterView:function(t){var e=this;$.ajax({url:"index.php?route=checkout/register",dataType:"html",beforeSend:function(){$("#button-account").button("loading")},complete:function(){$("#button-account").button("reset")},success:function(n){$(".alert, .text-danger").remove(),e.setting.$payment_address_body.html(n),e.setting.$payment_address_title.html('<a href="#collapse-payment-address" data-toggle="collapse" data-parent="#accordion" class="accordion-toggle">'+e.setting.text_checkout_account+' <i class="fa fa-caret-down"></i></a>'),$("input[name='customer_group_id']:checked").trigger("change"),"function"==typeof t&&t()},error:function(t,n,o){e.errorHandler(t,n,o)}})},getGuestView:function(t){var e=this;$.ajax({url:"index.php?route=checkout/guest",dataType:"html",beforeSend:function(){$("#button-account").button("loading")},complete:function(){$("#button-account").button("reset")},success:function(n){$(".alert, .text-danger").remove(),e.setting.$payment_address_body.html(n),e.setting.$payment_address_title.html('<a href="#collapse-payment-address" data-toggle="collapse" data-parent="#accordion" class="accordion-toggle">'+e.setting.text_checkout_payment_address+' <i class="fa fa-caret-down"></i></a>'),$("input[name='customer_group_id']:checked").trigger("change"),"function"==typeof t&&t()},error:function(t,n,o){e.errorHandler(t,n,o)}})},getPaymentAddressView:function(t){var e=this;$.ajax({url:"index.php?route=checkout/payment_address",dataType:"html",success:function(n){e.setting.$payment_address_body.html(n),e.setting.$payment_address_title.html('<a href="#collapse-payment-address" data-toggle="collapse" data-parent="#accordion" class="accordion-toggle">'+e.setting.text_checkout_payment_address+' <i class="fa fa-caret-down"></i></a>'),$("input[name='customer_group_id']:checked").trigger("change"),"function"==typeof t&&t()},error:function(t,n,o){e.errorHandler(t,n,o)}})},getShippingAddressView:function(t){var e=this;$.ajax({url:"index.php?route=checkout/shipping_address",dataType:"html",success:function(n){e.setting.$shipping_address_body.html(n),e.setting.$shipping_address_title.html('<a href="#collapse-shipping-address" data-toggle="collapse" data-parent="#accordion" class="accordion-toggle">'+e.setting.text_checkout_shipping_address+' <i class="fa fa-caret-down"></i></a>'),"function"==typeof t&&t()},error:function(t,n,o){e.errorHandler(t,n,o)}})},getGuestShippingAddressView:function(t){var e=this;$.ajax({url:"index.php?route=checkout/guest_shipping",dataType:"html",success:function(n){e.setting.$shipping_address_body.html(n),e.setting.$shipping_address_title.html('<a href="#collapse-shipping-address" data-toggle="collapse" data-parent="#accordion" class="accordion-toggle">'+e.setting.text_checkout_shipping_address+' <i class="fa fa-caret-down"></i></a>'),"function"==typeof t&&t()},error:function(t,n,o){e.errorHandler(t,n,o)}})},getShippingMethodView:function(t){var e=this;$.ajax({url:"index.php?route=checkout/shipping_method",dataType:"html",success:function(n){e.setting.$shipping_method_body.html(n),e.setting.$shipping_method_title.html('<a href="#collapse-shipping-method" data-toggle="collapse" data-parent="#accordion" class="accordion-toggle">'+e.setting.text_checkout_shipping_method+' <i class="fa fa-caret-down"></i></a>'),"function"==typeof t&&t()},error:function(t,n,o){e.errorHandler(t,n,o)}})},getPaymentMethodView:function(t){var e=this;$.ajax({url:"index.php?route=checkout/payment_method",dataType:"html",success:function(n){e.setting.$payment_method_body.html(n),e.setting.$payment_method_title.html('<a href="#collapse-payment-method" data-toggle="collapse" data-parent="#accordion" class="accordion-toggle">'+e.setting.text_checkout_payment_method+' <i class="fa fa-caret-down"></i></a>'),"function"==typeof t&&t()},error:function(t,n,o){e.errorHandler(t,n,o)}})},getConfirmView:function(t){var e=this;$.ajax({url:"index.php?route=checkout/confirm",dataType:"html",complete:function(){$("#button-payment-method").button("reset")},success:function(n){e.setting.$confirm_body.html(n),e.setting.$confirm_title.html('<a href="#collapse-checkout-confirm" data-toggle="collapse" data-parent="#accordion" class="accordion-toggle">'+e.setting.text_checkout_confirm+' <i class="fa fa-caret-down"></i></a>'),"function"==typeof t&&t()},error:function(t,n,o){e.errorHandler(t,n,o)}})},clickLogin:function(){var t=this;$.ajax({url:"index.php?route=checkout/login/save",type:"post",data:$("#collapse-checkout-option :input"),dataType:"json",beforeSend:function(){$("#button-login").button("loading")},complete:function(){$("#button-login").button("reset")},success:function(e){$(".alert, .text-danger").remove(),$(".form-group").removeClass("has-error"),e.redirect?location=e.redirect:e.error&&(t.setting.$confirm_body.prepend('<div class="alert alert-danger"><i class="fa fa-exclamation-circle"></i> '+e.error.warning+'<button type="button" class="close" data-dismiss="alert">&times;</button></div>'),$("input[name='email']").parent().addClass("has-error"),$("input[name='password']").parent().addClass("has-error"))},error:function(e,n,o){t.errorHandler(e,n,o)}})},clickRegister:function(t){var e=this;$.ajax({url:"index.php?route=checkout/register/save",type:"post",data:$("#collapse-payment-address input[type='text'], #collapse-payment-address input[type='date'], #collapse-payment-address input[type='datetime-local'], #collapse-payment-address input[type='time'], #collapse-payment-address input[type='password'], #collapse-payment-address input[type='hidden'], #collapse-payment-address input[type='checkbox']:checked, #collapse-payment-address input[type='radio']:checked, #collapse-payment-address textarea, #collapse-payment-address select"),dataType:"json",beforeSend:function(){$("#button-register").button("loading")},complete:function(){$("#button-register").button("reset")},success:function(n){if($(".alert, .text-danger").remove(),$(".form-group").removeClass("has-error"),n.redirect)location=n.redirect;else if(n.error){$("#button-register").button("reset"),n.error.warning&&e.setting.$payment_address_body.prepend('<div class="alert alert-danger"><i class="fa fa-exclamation-circle"></i> '+n.error.warning+'<button type="button" class="close" data-dismiss="alert">&times;</button></div>');for(i in n.error){var o=e.setting.$payment_address.find("#input-"+i.replace("_","-"));$(o).parent().hasClass("input-group")?$(o).parent().after('<div class="text-danger">'+n.error[i]+"</div>"):$(o).after('<div class="text-danger">'+n.error[i]+"</div>")}$(".text-danger").parent().addClass("has-error")}else"function"==typeof t&&t()},error:function(t,n,o){e.errorHandler(t,n,o)}})},clickGuest:function(t){var e=this;$.ajax({url:"index.php?route=checkout/guest/save",type:"post",data:$("#collapse-payment-address input[type='text'], #collapse-payment-address input[type='date'], #collapse-payment-address input[type='datetime-local'], #collapse-payment-address input[type='time'], #collapse-payment-address input[type='password'], #collapse-payment-address input[type='hidden'], #collapse-payment-address input[type='checkbox']:checked, #collapse-payment-address input[type='radio']:checked, #collapse-payment-address textarea, #collapse-payment-address select"),dataType:"json",beforeSend:function(){$("#button-guest").button("loading")},complete:function(){$("#button-guest").button("reset")},success:function(n){if($(".alert, .text-danger").remove(),$(".form-group").removeClass("has-error"),n.redirect)location=n.redirect;else if(n.error){$("#button-guest").button("reset"),n.error.warning&&e.setting.$payment_address_body.prepend('<div class="alert alert-danger"><i class="fa fa-exclamation-circle"></i> '+n.error.warning+'<button type="button" class="close" data-dismiss="alert">&times;</button></div>');for(i in n.error){var o=e.setting.$payment_address.find("#input-"+i.replace("_","-"));$(o).parent().hasClass("input-group")?$(o).parent().after('<div class="text-danger">'+n.error[i]+"</div>"):$(o).after('<div class="text-danger">'+n.error[i]+"</div>")}$(".text-danger").parent().addClass("has-error")}else"function"==typeof t&&t()},error:function(t,n,o){e.errorHandler(t,n,o)}})},clickPaymentAddress:function(t){var e=this;$.ajax({url:"index.php?route=checkout/payment_address/save",type:"post",data:$("#collapse-payment-address input[type='text'], #collapse-payment-address input[type='date'], #collapse-payment-address input[type='datetime-local'], #collapse-payment-address input[type='time'], #collapse-payment-address input[type='password'], #collapse-payment-address input[type='checkbox']:checked, #collapse-payment-address input[type='radio']:checked, #collapse-payment-address input[type='hidden'], #collapse-payment-address textarea, #collapse-payment-address select"),dataType:"json",beforeSend:function(){$("#button-payment-address").button("loading")},complete:function(){$("#button-payment-address").button("reset")},success:function(n){if($(".alert, .text-danger").remove(),n.redirect)location=n.redirect;else if(n.error){n.error.warning&&$("#collapse-payment-address .panel-body").prepend('<div class="alert alert-warning">'+n.error.warning+'<button type="button" class="close" data-dismiss="alert">&times;</button></div>');for(i in n.error){var o=e.setting.$payment_address.find("#input-"+i.replace("_","-"));$(o).parent().hasClass("input-group")?$(o).parent().after('<div class="text-danger">'+n.error[i]+"</div>"):$(o).after('<div class="text-danger">'+n.error[i]+"</div>")}$(".text-danger").parent().parent().addClass("has-error")}else"function"==typeof t&&t()},error:function(t,n,o){e.errorHandler(t,n,o)}})},clickShippingAddress:function(t){var e=this;$.ajax({url:"index.php?route=checkout/shipping_address/save",type:"post",data:$("#collapse-shipping-address input[type='text'], #collapse-shipping-address input[type='date'], #collapse-shipping-address input[type='datetime-local'], #collapse-shipping-address input[type='time'], #collapse-shipping-address input[type='password'], #collapse-shipping-address input[type='checkbox']:checked, #collapse-shipping-address input[type='radio']:checked, #collapse-shipping-address textarea, #collapse-shipping-address select"),dataType:"json",beforeSend:function(){$("#button-shipping-address").button("loading")},complete:function(){$("#button-shipping-address").button("reset")},success:function(n){if($(".alert, .text-danger").remove(),n.redirect)location=n.redirect;else if(n.error){$("#button-shipping-address").button("reset"),n.error.warning&&e.setting.$shipping_address_body.prepend('<div class="alert alert-warning">'+n.error.warning+'<button type="button" class="close" data-dismiss="alert">&times;</button></div>');for(i in n.error){var o=e.setting.$shipping_address.find("#input-"+i.replace("_","-"));$(o).parent().hasClass("input-group")?$(o).parent().after('<div class="text-danger">'+n.error[i]+"</div>"):$(o).after('<div class="text-danger">'+n.error[i]+"</div>")}$(".text-danger").parent().parent().addClass("has-error")}else"function"==typeof t&&t()},error:function(t,n,o){e.errorHandler(t,n,o)}})},clickGuestShippingAddress:function(t){var e=this;$.ajax({url:"index.php?route=checkout/guest_shipping/save",type:"post",data:$("#collapse-shipping-address input[type='text'], #collapse-shipping-address input[type='date'], #collapse-shipping-address input[type='datetime-local'], #collapse-shipping-address input[type='time'], #collapse-shipping-address input[type='password'], #collapse-shipping-address input[type='checkbox']:checked, #collapse-shipping-address input[type='radio']:checked, #collapse-shipping-address textarea, #collapse-shipping-address select"),dataType:"json",beforeSend:function(){$("#button-guest-shipping").button("loading")},complete:function(){$("#button-guest-shipping").button("reset")},success:function(n){if($(".alert, .text-danger").remove(),n.redirect)location=n.redirect;else if(n.error){$("#button-guest-shipping").button("reset"),n.error.warning&&e.setting.$shipping_address_body.prepend('<div class="alert alert-warning">'+n.error.warning+'<button type="button" class="close" data-dismiss="alert">&times;</button></div>');for(i in n.error){var o=e.setting.$shipping_address.find("#input-"+i.replace("_","-"));$(o).parent().hasClass("input-group")?$(o).parent().after('<div class="text-danger">'+n.error[i]+"</div>"):$(o).after('<div class="text-danger">'+n.error[i]+"</div>")}$(".text-danger").parent().addClass("has-error")}else"function"==typeof t&&t()},error:function(t,n,o){e.errorHandler(t,n,o)}})},clickShippingMethod:function(t){var e=this;$.ajax({url:"index.php?route=checkout/shipping_method/save",type:"post",data:$("#collapse-shipping-method input[type='radio']:checked, #collapse-shipping-method textarea"),dataType:"json",beforeSend:function(){$("#button-shipping-method").button("loading")},complete:function(){$("#button-shipping-method").button("reset")},success:function(n){$(".alert, .text-danger").remove(),n.redirect?location=n.redirect:n.error?($("#button-shipping-method").button("reset"),n.error.warning&&e.setting.$shipping_method_body.prepend('<div class="alert alert-warning">'+n.error.warning+'<button type="button" class="close" data-dismiss="alert">&times;</button></div>')):"function"==typeof t&&t()},error:function(t,n,o){e.errorHandler(t,n,o)}})},clickPaymentMethod:function(t){var e=this;$.ajax({url:"index.php?route=checkout/payment_method/save",type:"post",data:$("#collapse-payment-method input[type='radio']:checked, #collapse-payment-method input[type='checkbox']:checked, #collapse-payment-method textarea"),dataType:"json",beforeSend:function(){$("#button-payment-method").button("loading")},complete:function(){$("#button-payment-method").button("reset")},success:function(n){$(".alert, .text-danger").remove(),n.redirect?location=n.redirect:n.error?n.error.warning&&e.setting.$payment_method_body.prepend('<div class="alert alert-warning">'+n.error.warning+'<button type="button" class="close" data-dismiss="alert">&times;</button></div>'):"function"==typeof t&&t()},error:function(t,n,o){e.errorHandler(t,n,o)}})},render:function(){var t=this;"logged"!=this.setting.account?this.getLoginView(function(){t.setAccount(),t.changeStep("account")}):this.getPaymentAddressView(function(){t.changeStep("payment_address")}),$(document).on("change","input[name='account']",function(){t.changeAccount()}),$(document).on("click","#button-account",function(){"register"==t.setting.account?t.getRegisterView(function(){t.changeStep("payment_address")}):t.getGuestView(function(){t.changeStep("payment_address")})}),$(document).on("click","#button-login",function(){t.clickLogin()}),$(document).on("click","#button-register",function(){t.clickRegister(function(){if(t.setting.shipping_required){t.setting.$payment_address.find("input[name='shipping_address']:checked").prop("value")?t.getShippingMethodView(function(){t.getShippingAddressView(function(){t.changeStep("shipping_method")})}):t.getShippingAddressView(function(){t.changeStep("shipping_address")})}else t.getPaymentMethodView(function(){t.changeStep("payment_method")});t.getPaymentAddressView()})}),$(document).on("click","#button-payment-address",function(){t.clickPaymentAddress(function(){t.setting.shipping_required?t.getShippingAddressView(function(){t.changeStep("shipping_address")}):t.getPaymentMethodView(function(){t.changeStep("payment_method")}),t.getPaymentAddressView()})}),$(document).on("click","#button-shipping-address",function(){t.clickShippingAddress(function(){t.getShippingMethodView(function(){t.changeStep("shipping_method"),t.getShippingAddressView()})})}),$(document).on("click","#button-guest",function(){t.clickGuest(function(){if(t.setting.shipping_required){var e=t.setting.$payment_address.find("input[name='shipping_address']:checked").prop("value");console.log("shipping_address:"+e),e?t.getShippingMethodView(function(){t.getGuestShippingAddressView(function(){t.changeStep("shipping_method")})}):t.getGuestShippingAddressView(function(){t.changeStep("shipping_address")})}else t.getPaymentMethodView(function(){t.changeStep("payment_method")})})}),$(document).on("click","#button-guest-shipping",function(){t.clickGuestShippingAddress(function(){t.getShippingMethodView(function(){t.changeStep("shipping_method")})})}),$(document).on("click","#button-shipping-method",function(){t.clickShippingMethod(function(){t.getPaymentMethodView(function(){t.changeStep("payment_method")})})}),$(document).on("click","#button-payment-method",function(){t.clickPaymentMethod(function(){t.getConfirmView(function(){t.changeStep("confirm")})})})}},cart={add:function(t,e){$.ajax({url:"index.php?route=checkout/cart/add",type:"post",data:"product_id="+t+"&quantity="+(void 0!==e?e:1),dataType:"json",beforeSend:function(){$("#cart > button").button("loading")},complete:function(){$("#cart > button").button("reset")},success:function(t){$(".alert, .text-danger").remove(),t.redirect&&(location=t.redirect),t.success&&($("#content").parent().before('<div class="alert alert-success"><i class="fa fa-check-circle"></i> '+t.success+' <button type="button" class="close" data-dismiss="alert">&times;</button></div>'),setTimeout(function(){$("#cart > button").html('<span id="cart-total"><i class="fa fa-shopping-cart"></i> '+t.total+"</span>")},100),$("html, body").animate({scrollTop:0},"slow"),$("#cart").load("index.php?route=common/cart/info"))},error:function(t,e,n){alert(n+"\r\n"+t.statusText+"\r\n"+t.responseText)}})},update:function(t,e){$.ajax({url:"index.php?route=checkout/cart/edit",type:"post",data:"key="+t+"&quantity="+(void 0!==e?e:1),dataType:"json",beforeSend:function(){$("#cart > button").button("loading")},complete:function(){$("#cart > button").button("reset")},success:function(t){setTimeout(function(){$("#cart > button").html('<span id="cart-total"><i class="fa fa-shopping-cart"></i> '+t.total+"</span>")},100),"checkout/cart"==getURLVar("route")||"checkout/checkout"==getURLVar("route")?location="index.php?route=checkout/cart":$("#cart > ul").load("index.php?route=common/cart/info ul li")},error:function(t,e,n){alert(n+"\r\n"+t.statusText+"\r\n"+t.responseText)}})},remove:function(t){$.ajax({url:"index.php?route=checkout/cart/remove",type:"post",data:"key="+t,dataType:"json",beforeSend:function(){$("#cart > button").button("loading")},complete:function(){$("#cart > button").button("reset")},success:function(t){setTimeout(function(){$("#cart > button").html('<span id="cart-total"><i class="fa fa-shopping-cart"></i> '+t.total+"</span>")},100),"checkout/cart"==getURLVar("route")||"checkout/checkout"==getURLVar("route")?location="index.php?route=checkout/cart":$("#cart > ul").load("index.php?route=common/cart/info ul li")},error:function(t,e,n){alert(n+"\r\n"+t.statusText+"\r\n"+t.responseText)}})}},compare={add:function(t){$.ajax({url:"index.php?route=product/compare/add",type:"post",data:"product_id="+t,dataType:"json",success:function(t){$(".alert").remove(),t.success&&($("#content").parent().before('<div class="alert alert-success"><i class="fa fa-check-circle"></i> '+t.success+' <button type="button" class="close" data-dismiss="alert">&times;</button></div>'),$("#compare-total").html(t.total),$("html, body").animate({scrollTop:0},"slow"))},error:function(t,e,n){alert(n+"\r\n"+t.statusText+"\r\n"+t.responseText)}})},remove:function(){}},voucher={add:function(){},remove:function(t){$.ajax({url:"index.php?route=checkout/cart/remove",type:"post",data:"key="+t,dataType:"json",beforeSend:function(){$("#cart > button").button("loading")},complete:function(){$("#cart > button").button("reset")},success:function(t){setTimeout(function(){$("#cart > button").html('<span id="cart-total"><i class="fa fa-shopping-cart"></i> '+t.total+"</span>")},100),"checkout/cart"==getURLVar("route")||"checkout/checkout"==getURLVar("route")?location="index.php?route=checkout/cart":$("#cart > ul").load("index.php?route=common/cart/info ul li")},error:function(t,e,n){alert(n+"\r\n"+t.statusText+"\r\n"+t.responseText)}})}},wishlist={add:function(t){$.ajax({url:"index.php?route=account/wishlist/add",type:"post",data:"product_id="+t,dataType:"json",success:function(t){$(".alert").remove(),t.redirect&&(location=t.redirect),t.success&&$("#content").parent().before('<div class="alert alert-success"><i class="fa fa-check-circle"></i> '+t.success+' <button type="button" class="close" data-dismiss="alert">&times;</button></div>'),$("#wishlist-total span").html(t.total),$("#wishlist-total").attr("title",t.total),
$("html, body").animate({scrollTop:0},"slow")},error:function(t,e,n){alert(n+"\r\n"+t.statusText+"\r\n"+t.responseText)}})},remove:function(){}},d_address_field={setting:{zone_id:0,text_none:"",text_select:""},init:function(t){console.log("start d_address_field"),this.setting=$.extend({},this.setting,t),this.render()},changeCountry:function(t){var e=this.setting;$.ajax({url:"index.php?route=account/account/country&country_id="+t.value,dataType:"json",beforeSend:function(){$("select[name='country_id']").after(' <i class="fa fa-circle-o-notch fa-spin"></i>')},complete:function(){$(".fa-spin").remove()},success:function(t){if("1"==t.postcode_required?$("input[name='postcode']").parent().parent().addClass("required"):$("input[name='postcode']").parent().parent().removeClass("required"),html='<option value="">'+e.text_select+"</option>",t.zone&&""!=t.zone)for(i=0;i<t.zone.length;i++)html+='<option value="'+t.zone[i].zone_id+'"',t.zone[i].zone_id==e.zone_id&&(html+=' selected="selected"'),html+=">"+t.zone[i].name+"</option>";else html+='<option value="0" selected="selected">'+e.text_none+"</option>";$("select[name='zone_id']").html(html)},error:function(t,e,n){alert(n+"\r\n"+t.statusText+"\r\n"+t.responseText)}})},render:function(){var t=this;$("select[name='country_id']").on("change",function(){t.changeCountry(this)}),$("select[name='country_id']").trigger("change")}},d_custom_field={init:function(){console.log("start d_custom_field"),this.render()},changeCustomerGroup:function(t){$.ajax({url:"index.php?route=account/register/customfield&customer_group_id="+t.value,dataType:"json",success:function(t){for($(".custom-field").hide(),$(".custom-field").removeClass("required"),i=0;i<t.length;i++)custom_field=t[i],$("#custom-field"+custom_field.custom_field_id).show(),custom_field.required&&$("#custom-field"+custom_field.custom_field_id).addClass("required")},error:function(t,e,n){alert(n+"\r\n"+t.statusText+"\r\n"+t.responseText)}})},upload:function(t){$("#form-upload").remove(),$("body").prepend('<form enctype="multipart/form-data" id="form-upload" style="display: none;"><input type="file" name="file" /></form>'),$("#form-upload input[name='file']").trigger("click"),"undefined"!=typeof timer&&clearInterval(timer),timer=setInterval(function(){""!=$("#form-upload input[name='file']").val()&&(clearInterval(timer),$.ajax({url:"index.php?route=tool/upload",type:"post",dataType:"json",data:new FormData($("#form-upload")[0]),cache:!1,contentType:!1,processData:!1,beforeSend:function(){$(t).button("loading")},complete:function(){$(t).button("reset")},success:function(e){$(t).parent().find(".text-danger").remove(),e.error&&$(t).parent().find("input").after('<div class="text-danger">'+e.error+"</div>"),e.success&&(alert(e.success),$(t).parent().find("input").attr("value",e.code))},error:function(t,e,n){alert(n+"\r\n"+t.statusText+"\r\n"+t.responseText)}}))},500)},sort:function(){$("fieldset").each(function(){$this=$(this),console.log("sorting:"+$this.attr("id")),$this.find(".form-group[data-sort]").detach().each(function(){$(this).attr("data-sort")>=0&&$(this).attr("data-sort")<=$(".form-group").length&&$this.find(".form-group").eq($(this).attr("data-sort")).before(this),$(this).attr("data-sort")>$(".form-group").length&&$this.find(".form-group:last").after(this),$(this).attr("data-sort")<-$(".form-group").length&&$this.find(".form-group:first").before(this)})})},render:function(){var t=this;t.sort(),$(document).on("change","input[name='customer_group_id']",function(){t.changeCustomerGroup(this)}),$("input[name='customer_group_id']:checked").trigger("change"),$(document).on("click","button[id^='button-custom-field']",function(){t.upload(this)}),$(".date").datetimepicker({pickTime:!1}),$(".datetime").datetimepicker({pickDate:!0,pickTime:!0}),$(".time").datetimepicker({pickDate:!1})}};$(document).ready(function(){console.log("start d_product_sort"),$(document).on("click","#list-view",function(){console.log("click list-view"),$("#content .product-grid > .clearfix").remove(),$("#content .row > .product-grid").attr("class","product-layout product-list col-xs-12"),localStorage.setItem("display","list")}),$(document).on("click","#grid-view",function(){console.log("click grid-view"),cols=$("#column-right, #column-left").length,2==cols?$("#content .product-list").attr("class","product-layout product-grid col-lg-6 col-md-6 col-sm-12 col-xs-12"):1==cols?$("#content .product-list").attr("class","product-layout product-grid col-lg-4 col-md-4 col-sm-6 col-xs-12"):$("#content .product-list").attr("class","product-layout product-grid col-lg-3 col-md-3 col-sm-6 col-xs-12"),localStorage.setItem("display","grid")}),"list"==localStorage.getItem("display")?$("#list-view").trigger("click"):$("#grid-view").trigger("click")});var Product={setting:{product_id:"",$quantity:"",minimum:""},init:function(t){console.log("start Product"),this.setting=$.extend({},this.setting,t),this.render()},increaseQuantity:function(){console.log(this.setting.$quantity),this.setting.$quantity.val(parseInt(this.setting.$quantity.val())+1)},decreaseQuanityt:function(){this.setting.$quantity.val()<=this.setting.minimum?this.setting.$quantity.val(this.setting.minimum):this.setting.$quantity.val(parseInt(this.setting.$quantity.val())-1)},updateRecurringDescription:function(){$.ajax({url:"index.php?route=product/product/getRecurringDescription",type:"post",data:$("input[name='product_id'], input[name='quantity'], select[name='recurring_id']"),dataType:"json",beforeSend:function(){$("#recurring-description").html("")},success:function(t){$(".alert, .text-danger").remove(),t.success&&$("#recurring-description").html(t.success)}})},addCart:function(){$.ajax({url:"index.php?route=checkout/cart/add",type:"post",data:$("#product input[type='text'], #product input[type='hidden'], #product input[type='radio']:checked, #product input[type='checkbox']:checked, #product select, #product textarea"),dataType:"json",beforeSend:function(){$("#button-cart").button("loading")},complete:function(){$("#button-cart").button("reset")},success:function(t){if($(".alert, .text-danger").remove(),$(".form-group").removeClass("has-error"),t.error){if(t.error.option)for(i in t.error.option){var e=$("#input-option"+i.replace("_","-"));e.parent().hasClass("input-group")?e.parent().after('<div class="text-danger">'+t.error.option[i]+"</div>"):e.after('<div class="text-danger">'+t.error.option[i]+"</div>")}t.error.recurring&&$("select[name='recurring_id']").after('<div class="text-danger">'+t.error.recurring+"</div>"),$(".text-danger").parent().addClass("has-error")}t.success&&($(".breadcrumb").after('<div class="alert alert-success">'+t.success+'<button type="button" class="close" data-dismiss="alert">&times;</button></div>'),$("#cart > button").html('<i class="fa fa-shopping-cart"></i> '+t.total),$("html, body").animate({scrollTop:0},"slow"),$("#cart > ul").load("index.php?route=common/cart/info ul li"))},error:function(t,e,n){alert(n+"\r\n"+t.statusText+"\r\n"+t.responseText)}})},uploadFile:function(t){$("#form-upload").remove(),$("body").prepend('<form enctype="multipart/form-data" id="form-upload" style="display: none;"><input type="file" name="file" /></form>'),$("#form-upload input[name='file']").trigger("click"),"undefined"!=typeof timer&&clearInterval(timer),timer=setInterval(function(){""!=$("#form-upload input[name='file']").val()&&(clearInterval(timer),$.ajax({url:"index.php?route=tool/upload",type:"post",dataType:"json",data:new FormData($("#form-upload")[0]),cache:!1,contentType:!1,processData:!1,beforeSend:function(){$(t).button("loading")},complete:function(){$(t).button("reset")},success:function(e){$(".text-danger").remove(),e.error&&$(t).parent().find("input").after('<div class="text-danger">'+e.error+"</div>"),e.success&&(alert(e.success),$(t).parent().find("input").attr("value",e.code))},error:function(t,e,n){alert(n+"\r\n"+t.statusText+"\r\n"+t.responseText)}}))},500)},loadReviewPage:function(t,e){e.preventDefault(),$("#review").fadeOut("slow"),$("#review").load(t.href),$("#review").fadeIn("slow")},sendReview:function(){var t=this;$.ajax({url:"index.php?route=product/product/write&product_id="+t.setting.product_id,type:"post",dataType:"json",data:$("#form-review").serialize(),beforeSend:function(){$("#button-review").button("loading")},complete:function(){$("#button-review").button("reset")},success:function(t){$(".alert-success, .alert-danger").remove(),t.error&&$("#review").after('<div class="alert alert-danger"><i class="fa fa-exclamation-circle"></i> '+t.error+"</div>"),t.success&&($("#review").after('<div class="alert alert-success"><i class="fa fa-check-circle"></i> '+t.success+"</div>"),$("input[name='name']").val(""),$("textarea[name='text']").val(""),$("input[name='rating']:checked").prop("checked",!1))}})},render:function(){var t=this;$(document).on("change","select[name='recurring_id'], input[name=\"quantity\"]",function(){t.updateRecurringDescription()}),$(document).on("click","#button-cart",function(){t.addCart()}),$(document).on("click","button[id^='button-upload']",function(){t.uploadFile(this)}),$(document).on("click","#review .pagination a",function(e){t.loadReviewPage(this,e)}),$(document).on("click","#button-review",function(){t.sendReview()}),$(document).on("click","#quantity_control .decrease",function(){t.decreaseQuanityt()}),$(document).on("click","#quantity_control .increase",function(){t.increaseQuantity()}),$("#review").load("index.php?route=product/product/review&product_id="+t.setting.product_id),$("input[name='rating']").rating(),$(".date").datetimepicker({pickTime:!1}),$(".datetime").datetimepicker({pickDate:!0,pickTime:!0}),$(".time").datetimepicker({pickDate:!1}),$(".product-images").magnificPopup({type:"image",delegate:"a",gallery:{enabled:!0}})}},Search={init:function(){console.log("start Search"),this.render()},clickSearch:function(){url="index.php?route=product/search";var t=$("#content input[name='search']").prop("value");t&&(url+="&search="+encodeURIComponent(t));var e=$("#content select[name='category_id']").prop("value");e>0&&(url+="&category_id="+encodeURIComponent(e)),$("#content input[name='sub_category']:checked").prop("value")&&(url+="&sub_category=true"),$("#content input[name='description']:checked").prop("value")&&(url+="&description=true"),location=url},render:function(){var t=this;$(document).on("click","#button-search",function(){t.clickSearch()}),$(document).on("keydown","#content input[name='search']",function(t){13==t.keyCode&&$("#button-search").trigger("click")}),$(document).on("change","select[name='category_id']",function(){"0"==this.value?$("input[name='sub_category']").prop("disabled",!0):$("input[name='sub_category']").prop("disabled",!1)}),$("select[name='category_id']").trigger("change")}},Total_coupon={init:function(){console.log("start Total_coupon"),this.render()},clickCoupon:function(){$.ajax({url:"index.php?route=total/coupon/coupon",type:"post",data:"coupon="+encodeURIComponent($("input[name='coupon']").val()),dataType:"json",beforeSend:function(){$("#button-coupon").button("loading")},complete:function(){$("#button-coupon").button("reset")},success:function(t){$(".alert").remove(),t.error&&($(".breadcrumb").after('<div class="alert alert-danger"><i class="fa fa-exclamation-circle"></i> '+t.error+'<button type="button" class="close" data-dismiss="alert">&times;</button></div>'),$("html, body").animate({scrollTop:0},"slow")),t.redirect&&(location=t.redirect)}})},render:function(){var t=this;$(document).on("click","#button-coupon",function(){t.clickCoupon()})}},Total_reward={init:function(){console.log("start Total_reward"),this.render()},clickReward:function(){$.ajax({url:"index.php?route=total/reward/reward",type:"post",data:"reward="+encodeURIComponent($("input[name='reward']").val()),dataType:"json",beforeSend:function(){$("#button-reward").button("loading")},complete:function(){$("#button-reward").button("reset")},success:function(t){$(".alert").remove(),t.error&&($(".breadcrumb").after('<div class="alert alert-danger"><i class="fa fa-exclamation-circle"></i> '+t.error+'<button type="button" class="close" data-dismiss="alert">&times;</button></div>'),$("html, body").animate({scrollTop:0},"slow")),t.redirect&&(location=t.redirect)}})},render:function(){var t=this;$(document).on("click","#button-reward",function(){t.clickReward()})}},Total_shipping={setting:{shipping_method:"shipping_method",text_shipping_method:"text_shipping_method",text_loading:"text_loading",button_cancel:"button_cancel",button_shipping:"button_shipping"},init:function(t){console.log("start Total_shipping"),this.setting=$.extend({},this.setting,t),this.render()},clickQoute:function(){var t=this;$.ajax({url:"index.php?route=total/shipping/quote",type:"post",data:"country_id="+$("select[name='country_id']").val()+"&zone_id="+$("select[name='zone_id']").val()+"&postcode="+encodeURIComponent($("input[name='postcode']").val()),dataType:"json",beforeSend:function(){$("#button-quote").button("loading")},complete:function(){$("#button-quote").button("reset")},success:function(e){if($(".alert, .text-danger").remove(),e.error&&(e.error.warning&&($(".breadcrumb").after('<div class="alert alert-danger"><i class="fa fa-exclamation-circle"></i> '+e.error.warning+'<button type="button" class="close" data-dismiss="alert">&times;</button></div>'),$("html, body").animate({scrollTop:0},"slow")),e.error.country&&$("select[name='country_id']").after('<div class="text-danger">'+e.error.country+"</div>"),e.error.zone&&$("select[name='zone_id']").after('<div class="text-danger">'+e.error.zone+"</div>"),e.error.postcode&&$("input[name='postcode']").after('<div class="text-danger">'+e.error.postcode+"</div>")),e.shipping_method){$("#modal-shipping").remove(),html='<div id="modal-shipping" class="modal">',html+='  <div class="modal-dialog">',html+='    <div class="modal-content">',html+='      <div class="modal-header">',html+='        <h4 class="modal-title">'+t.setting.text_shipping_method+"</h4>",html+="      </div>",html+='      <div class="modal-body">';for(i in e.shipping_method)if(html+="<p><strong>"+e.shipping_method[i].title+"</strong></p>",e.shipping_method[i].error)html+='<div class="alert alert-danger">'+e.shipping_method[i].error+"</div>";else for(j in e.shipping_method[i].quote)html+='<div class="radio">',html+="  <label>",e.shipping_method[i].quote[j].code==t.setting.shipping_method?html+='<input type="radio" name="shipping_method" value="'+e.shipping_method[i].quote[j].code+'" checked="checked" />':html+='<input type="radio" name="shipping_method" value="'+e.shipping_method[i].quote[j].code+'" />',html+=e.shipping_method[i].quote[j].title+" - "+e.shipping_method[i].quote[j].text+"</label></div>";html+="      </div>",html+='      <div class="modal-footer">',html+='        <button type="button" class="btn btn-default" data-dismiss="modal">'+t.setting.button_cancel+"</button>",t.setting.shipping_method?html+='        <input type="button" value="'+t.setting.button_shipping+'" id="button-shipping" data-loading-text="'+t.setting.text_loading+'" class="btn btn-primary" />':html+='        <input type="button" value="'+t.setting.button_shipping+'" id="button-shipping" data-loading-text="'+t.setting.text_loading+'" class="btn btn-primary" disabled="disabled" />',html+="      </div>",html+="    </div>",html+="  </div>",html+="</div> ",$("body").append(html),$("#modal-shipping").modal("show"),$("input[name='shipping_method']").on("change",function(){$("#button-shipping").prop("disabled",!1)})}}})},clickShipping:function(){$.ajax({url:"index.php?route=total/shipping/shipping",type:"post",data:"shipping_method="+encodeURIComponent($("input[name='shipping_method']:checked").val()),dataType:"json",beforeSend:function(){$("#button-shipping").button("loading")},complete:function(){$("#button-shipping").button("reset")},success:function(t){$(".alert").remove(),t.error&&($(".breadcrumb").after('<div class="alert alert-danger"><i class="fa fa-exclamation-circle"></i> '+t.error+'<button type="button" class="close" data-dismiss="alert">&times;</button></div>'),$("html, body").animate({scrollTop:0},"slow")),t.redirect&&(location=t.redirect)}})},render:function(){var t=this;$(document).on("click","#button-quote",function(){t.clickQoute()}),$(document).on("click","#button-shipping",function(){t.clickShipping()})}},Total_voucher={init:function(){console.log("start Total_voucher"),this.render()},clickVoucher:function(){$.ajax({url:"index.php?route=total/voucher/voucher",type:"post",data:"voucher="+encodeURIComponent($("input[name='voucher']").val()),dataType:"json",beforeSend:function(){$("#button-voucher").button("loading")},complete:function(){$("#button-voucher").button("reset")},success:function(t){$(".alert").remove(),t.error&&($(".breadcrumb").after('<div class="alert alert-danger"><i class="fa fa-exclamation-circle"></i> '+t.error+'<button type="button" class="close" data-dismiss="alert">&times;</button></div>'),$("html, body").animate({scrollTop:0},"slow")),t.redirect&&(location=t.redirect)}})},render:function(){var t=this;$(document).on("click","#button-voucher",function(){t.clickVoucher()})}};$(function(){$("#review_rating").rating({filled:"fa fa-star",empty:"fa fa-star"})});